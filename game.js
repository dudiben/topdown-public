const t=Matter.Engine,e=Matter.World,n=Matter.Bodies,o=Matter.Events;var i=Matter.Runner.create();const r=t.create();const a=r.world;a.gravity.x=0;a.gravity.y=0;const s=window.innerWidth;const d=window.innerHeight;function c(t="#FFF5E4"){return Matter.Render.create({element:document.body,engine:r,options:{width:s,height:d,wireframes:false,background:t}})}let l=c();const u=n.circle(s/2-7,d/2,window.innerWidth/2-10,{isSensor:true,isStatic:true,render:{fillStyle:"rgb(180, 240, 228)",strokeStyle:"transparent"}});e.add(a,u);const m=n.circle(s/2-7,d/2,window.innerWidth/4,{isSensor:true,isStatic:true,render:{fillStyle:"rgb(230, 148, 148)",strokeStyle:"transparent"}});e.add(a,m);const y=n.circle(s/2,d/2,window.innerWidth/8,{restitution:0,render:{fillStyle:"rgb(200, 200, 225)",strokeStyle:"transparent"}});e.add(a,y);const M=n.circle(s/2,d/2,window.innerWidth/12,{restitution:1,render:{fillStyle:"rgb(255, 209, 209)",strokeStyle:"transparent"}});e.add(a,M);let h=0;let p=Date.now();let f=0;let v=0;let g=0;const B=.04;let w=B;let b=.12;let S=1.00001;let E=.005;const k=.02;const R=.023;o.on(r,"collisionStart",t=>{const e=t.pairs;for(let t=0;t<e.length;t++){const n=e[t];if(n.bodyA===M&&n.bodyB===m||n.bodyA===m&&n.bodyB===M){h=0}}});document.addEventListener("mousemove",t=>{Matter.Body.setPosition(y,{x:t.clientX,y:t.clientY})});document.addEventListener("touchmove",t=>{t.preventDefault();const e=t.touches[0];Matter.Body.setPosition(y,{x:e.clientX,y:e.clientY})});Matter.Events.on(i,"afterTick",t=>{$("#scoreDisplay")[0].textContent="Score: "+Math.floor(f)+"\r\n";if(v>0)$("#scoreDisplay")[0].textContent+="Top Score: "+Math.floor(v);const e=Matter.Vector.sub(m.position,M.position);Matter.Body.applyForce(M,M.position,Matter.Vector.mult(Matter.Vector.normalise(e),w));if(Math.random()<E&&f>10){console.log("random force");const n=Math.random()*(R-k)+k;const o=Math.random()*(R-k)+k;const r={x:n,y:o};Matter.Body.applyForce(M,M.position,r,w*10)}if(Matter.Bounds.contains(m.bounds,M.position)){h+=(t.timestamp-g)/1e3;if(h>3){console.log("Game Over! score:",f,w);if(f>v){v=f}$("#gameOver").modal("show");Matter.Runner.stop(i);Matter.Render.stop(l)}}if(Matter.Bounds.contains(u.bounds,M.position)&&!Matter.Bounds.contains(m.bounds,M.position)){f+=b}g=t.timestamp;w*=S});document.getElementById("startButton").addEventListener("click",function(){$("#explainModal").modal("hide");$("#scoreDisplay")[0].style.visibility="visible";Matter.Render.run(l);Matter.Runner.run(i,r)});document.getElementById("reviveButton").addEventListener("click",function(){p=Date.now();h=0;w=B;Matter.Body.setPosition(M,{x:Math.random()*s,y:Math.random()*d});$("#gameOver").modal("hide");Matter.Runner.run(i,r);Matter.Render.run(l)});document.getElementById("restartButton").addEventListener("click",function(){p=Date.now();h=0;f=0;w=B;Matter.Body.setPosition(M,{x:Math.random()*s,y:Math.random()*d});$("#gameOver").modal("hide");Matter.Runner.run(i,r);Matter.Render.run(l)});document.getElementById("shareButton").addEventListener("click",function(){alert('You clicked "shareButton"')});